{% extends "nocout/base.html" %}
{% block breadcrumb_title %}
    <li>Alert Center</li>
    <li>Alert Details</li>
    <li>Network Details</li>
{% endblock %}
{% block content_title %}Network Details{% endblock %}
{% block content_description %} {% endblock %}
{% load staticfiles %}

{% block page_setting_block %}
    <!-- GIS Page  -->
    <span class="pull-right col-md-6">
        <div class="btn-group pull-right">
            <ul class="list-unstyled list-inline">
                <li>
                    <button id="networkDetailBtn" class="btn btn-info btn-sm" onclick="nw_alert_showFilters();" data-complete-text="<i class='fa fa-filter'></i> Advance Filters" data-loading-text="Please Wait...">
                        <i class='fa fa-filter'></i> Advance Filters
                    </button>

                    <button id="removeNwDetailFilterBtn" class="btn btn-danger btn-sm hide" onclick="nw_alert_removeFilters();" style="margin-left:10px;">
                        <i class='fa fa-times'></i> Remove Filters
                    </button>
                </li>
            </ul>            
        </div>
        <div class="clearfix"></div> 
        <form class="horizontal-form pull-right" action="#">
            <div class="form-group">
                <label class="control-label pull-left">Alert Types &nbsp;&nbsp;&nbsp;</label> 
                <div class="pull-left">

                    <label class="radio-inline">
                        <input type="radio" id="network_detail_current_alarm" class="radioField" value="current" name="alarm_type"> Current
                    </label>
                    <label class="radio-inline">
                        <input type="radio" id="network_detail_clear_alarm" class="radioField" value="clear" name="alarm_type"> Clear
                    </label>
                    <label class="radio-inline">
                        <input type="radio" id="network_detail_history_alarm" class="radioField" value="history" name="alarm_type"> History
                    </label>
                </div>
            </div>
            <div class="clearfix"></div>
        </form>
        <div class="clearfix"></div>        
    </span>
    <!-- /DATE RANGE PICKER -->
{% endblock %}


{% block content %}
    <!-- Custom Style Start-->
    <style type="text/css">
        /*This is used to adjust the spce for too many tabs.*/
        .box #nwAlert_detail_container .header-tabs .nav-tabs > li > a {
            padding: 7px 10px !important;
        }
    </style>
    <!-- Custom Style End-->

    <div class="box border lite">
        <div id="tableContainer_div" class="box-title">
            <h4><i class="fa fa-bell"></i>NETWORK DETAILS</h4>

            <div class="tools hidden-xs">
                <a href="#box-config" data-toggle="modal" class="config">
                    <i class="fa fa-cog"></i>
                </a>
                <a href="javascript:;" class="reload">
                    <i class="fa fa-refresh"></i>
                </a>
            </div>
        </div>

        <div class="box-body">
            <!-- nwAlert_detail_container Start-->
            <div id="nwAlert_detail_container">
                
                <div class="tabbable header-tabs">
                    <!-- nav-tab Start -->
                    <ul class="nav nav-tabs">
                        <li><a href="#network_bhUtil_block" data-toggle="tab"><span class="hidden-inline-mobile">BH Utilisation</span></a></li>
                        <li><a href="#network_sectorUtil_block" data-toggle="tab"><span class="hidden-inline-mobile">Sector Utilisation</span></a></li>
                        <li><a href="#network_ulIssue_block" data-toggle="tab"><span class="hidden-inline-mobile">UL Issue</span></a></li>
                        <li><a href="#network_converter_block" data-toggle="tab"><span class="hidden-inline-mobile">Converter</span></a></li>
                        <li><a href="#network_pmpBs_block" data-toggle="tab"><span class="hidden-inline-mobile">PMP BS</span></a></li>
                        <li><a href="#network_wimaxBs_block" data-toggle="tab"><span class="hidden-inline-mobile">Wimax BS</span></a></li>
                        <li><a href="#network_temp_block" data-toggle="tab"><span class="hidden-inline-mobile">Temperature</span></a></li>
                        <li class="active"><a href="#network_ptp_block" data-toggle="tab"><span class="hidden-inline-mobile">PTP</span></a></li>
                    </ul>
                    <!-- nav-tab End -->

                    <!-- tab-content Start -->
                    <div class="tab-content">
                        <!-- network_bhUtil_block Start -->
                        <div class="tab-pane fade" id="network_bhUtil_block">
                            <table cellpadding="0" cellspacing="0" border="0" class="datatable table table-striped table-bordered table-hover" id="">
                                <thead>
                                    <th></th>
                                    <th>Received Time</th>
                                    <th>Event Type</th>
                                    <th>Event Name</th>
                                    <th>Device Type</th>
                                    <th>Host Alias</th>
                                    <th>IP Address</th>
                                    <th>Description</th>
                                </thead>
                                <tbody></tbody>
                            </table>

                        </div>
                        <!-- network_bhUtil_block End -->

                        <!-- network_sectorUtil_block Start -->
                        <div class="tab-pane fade" id="network_sectorUtil_block">
                            <table cellpadding="0" cellspacing="0" border="0" class="datatable table table-striped table-bordered table-hover" id="">
                                <thead>
                                    <th></th>
                                    <th>Received Time</th>
                                    <th>Event Type</th>
                                    <th>Event Name</th>
                                    <th>Device Type</th>
                                    <th>Host Alias</th>
                                    <th>IP Address</th>
                                    <th>Description</th>
                                </thead>
                                <tbody></tbody>
                            </table>

                        </div>
                        <!-- network_sectorUtil_block End -->

                        <!-- network_ulIssue_block Start -->
                        <div class="tab-pane fade" id="network_ulIssue_block">
                            <table cellpadding="0" cellspacing="0" border="0" class="datatable table table-striped table-bordered table-hover" id="">
                                <thead>
                                    <th></th>
                                    <th>Received Time</th>
                                    <th>Event Type</th>
                                    <th>Event Name</th>
                                    <th>Device Type</th>
                                    <th>Host Alias</th>
                                    <th>IP Address</th>
                                    <th>Description</th>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        <!-- network_ulIssue_block End -->

                        <!-- network_ptp_block Start -->
                        <div class="tab-pane fade in active" id="network_ptp_block">
                            <table cellpadding="0" cellspacing="0" border="0" class="datatable table table-striped table-bordered table-hover" id="network_ptp_block_table">
                                <thead></thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        <!-- network_ptp_block End -->

                        <!-- network_converter_block Start -->
                        <div class="tab-pane fade" id="network_converter_block">
                            <table cellpadding="0" cellspacing="0" border="0" class="datatable table table-striped table-bordered table-hover" id="">
                                <thead>
                                    <th></th>
                                    <th>Received Time</th>
                                    <th>Event Type</th>
                                    <th>Event Name</th>
                                    <th>Device Type</th>
                                    <th>Host Alias</th>
                                    <th>IP Address</th>
                                    <th>Description</th>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        <!-- network_converter_block End -->

                        <!-- network_pmpBs_block Start -->
                        <div class="tab-pane fade" id="network_pmpBs_block">
                            <table cellpadding="0" cellspacing="0" border="0" class="datatable table table-striped table-bordered table-hover" id="">
                                <thead>
                                    <th></th>
                                    <th>Received Time</th>
                                    <th>Event Type</th>
                                    <th>Event Name</th>
                                    <th>Device Type</th>
                                    <th>Host Alias</th>
                                    <th>IP Address</th>
                                    <th>Description</th>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        <!-- network_pmpBs_block End -->

                        <!-- network_wimaxBs_block Start -->
                        <div class="tab-pane fade" id="network_wimaxBs_block">
                            <table cellpadding="0" cellspacing="0" border="0" class="datatable table table-striped table-bordered table-hover" id="">
                                <thead>
                                    <th></th>
                                    <th>Received Time</th>
                                    <th>Event Type</th>
                                    <th>Event Name</th>
                                    <th>Device Type</th>
                                    <th>Host Alias</th>
                                    <th>IP Address</th>
                                    <th>Description</th>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        <!-- network_wimaxBs_block End -->

                        <!-- network_temp_block Start -->
                        <div class="tab-pane fade" id="network_temp_block">
                            <table cellpadding="0" cellspacing="0" border="0" class="datatable table table-striped table-bordered table-hover" id="">
                                <thead>
                                    <th></th>
                                    <th>Received Time</th>
                                    <th>Event Type</th>
                                    <th>Event Name</th>
                                    <th>Device Type</th>
                                    <th>Host Alias</th>
                                    <th>IP Address</th>
                                    <th>Description</th>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        <!-- network_temp_block End -->
                    </div>
                    <!-- tab-content Start -->
                </div>
            </div>
            <!-- nwAlert_detail_container End-->
            <div class="clearfix"></div>
        </div>
    </div>
{% endblock %}


{% block jquery %}
<!-- Custom script for data table-->
<script type="text/javascript">
    var dataTableInstance = "";

    $(document).ready(function () {

        /* Removing the pagination in the datatable*/
        function ourDataTableWidget()
        {
            /**
             * This function creates the jquery data table on given domElement
             * @class ourDataTableWidget
             * @method createDataTable
             * @param tableId "String" It contains the dom selector of table
             * @param tableheaders {JSON Object} It contains the grid headers object
             * @param ajax_url "String" It contains the ajax url from which the data is to be loaded
             */
            this.createDataTable = function(tableId, tableheaders, ajax_url, destroy)
            {
                /*Show the spinner*/
                showSpinner();

                destroy = typeof destroy !== 'undefined' ? destroy : true;
                $('.datatable').each(function () {
                    var datatable = $(this);
                    // SEARCH - Add the placeholder for Search and Turn this into in-line form control
                    var search_input = datatable.closest('.dataTables_wrapper').find('div[id$=_filter] input');
                    search_input.attr('placeholder', 'Search');
                    search_input.addClass('form-control input-sm');
                    // LENGTH - Inline-Form control
                    var length_sel = datatable.closest('.dataTables_wrapper').find('div[id$=_length] select');
                    length_sel.addClass('form-control input-sm');
                });
                if (destroy){
                    $("#"+tableId).dataTable().fnDestroy();
                }
                $("#"+tableId).DataTable({
                    bAutoWidth: false,
                    bPaginate: true,
                    bProcessing : true,
                    bServerSide: false,
                    sAjaxSource: ajax_url,
                    /*This is the callback funtion for data ajax call*/
                    fnInitComplete : function(oSettings, json) {
                        /*Hide the spinner*/
                        hideSpinner();
                    },
                    aoColumns:tableheaders,
                    sPaginationType: "bs_full",
                    aaSorting: [[8, 'desc'],[0, 'asc']]
                });
            };
        }

        /*Make a instance of ourDataTableWidget class */
        var dataTableInstance = new ourDataTableWidget();
        /*Grid headers object*/
        var gridHeadersObj = $.parseJSON('{{ network_ptp_block_table_header|safe }}');
        /*Ajax url to get grid data*/
        var ajax_url = '{% url "Network_PTP_Block_Table" %}';
        /*Call createDataTable function of ourDataTableWidget class*/
        var destroy= false;
        dataTableInstance.createDataTable("network_ptp_block_table", gridHeadersObj, ajax_url, destroy);

    });

    function nw_alert_showFilters() {

        if($("#removeNwDetailFilterBtn").hasClass("hide")) {

            $("#removeNwDetailFilterBtn").removeClass("hide");
        }

        bootbox.dialog({
            message: "Advance Filters Block",
            title: '<i class="fa fa-filter">&nbsp;</i> Advance Filters',
            buttons: {
                success: {
                    label: "Search",
                    className: "btn-success",
                    callback: function() {

                    }
                },
                danger: {
                    label: "Cancel",
                    className: "btn-danger",
                    callback: function() {
                        
                    }
                }            
            }
        });
                
    }

    function nw_alert_removeFilters() {

        if($("#removeNwDetailFilterBtn").hasClass("hide")) {

            $("#removeNwDetailFilterBtn").removeClass("hide");
        } else {

            $("#removeNwDetailFilterBtn").addClass("hide");
        }
    }

</script>
{% endblock %}

{% block load_js %}
<!-- /JAVASCRIPTS -->

<script>
    jQuery(document).ready(function () {
        App.setPage("");  //Set current page
        App.init(); //Initialise plugins and elements
    });
</script>
{% endblock %}